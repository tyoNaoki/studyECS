cmake_minimum_required(VERSION 3.14)
project(entityProject)

include(FetchContent)

# ã™ã§ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ¸ˆã¿ã‹ãƒã‚§ãƒƒã‚¯
if(NOT googletest_POPULATED)
  FetchContent_Declare(
    googletest
    URL https://github.com/google/googletest/archive/03597a01ee50ed33e9dfd640b249b4be3799d395.zip
  )
  set(BUILD_GMOCK OFF CACHE BOOL "Disable building of Google Mock")
  set(INSTALL_GTEST OFF CACHE BOOL "Disable installation of Google Test")
endif()

# ğŸ”½ å¿…ãš `endif()` ã®å¾Œã« `FetchContent_MakeAvailable`
FetchContent_MakeAvailable(googletest)

enable_testing()  # CTestã‚’æœ‰åŠ¹åŒ–

# ğŸ”½ **Google Testã®ãƒ˜ãƒƒãƒ€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’è¿½åŠ **
include_directories(${googletest_SOURCE_DIR}/include)

# ğŸ”½ **å˜ä½“ãƒ†ã‚¹ãƒˆã®å®šç¾©**
add_executable(
  entityTest
  test.cpp
)
target_link_libraries(
  entityTest
  GTest::gtest_main
)

# ğŸ”½ **Google Testã¯C++14ä»¥ä¸ŠãŒå¿…è¦**
target_compile_features(
  entityTest
  PUBLIC
  cxx_std_14
)

include(GoogleTest)

# ğŸ”½ **ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®è‡ªå‹•æ¤œå‡º**
gtest_discover_tests(entityTest)

